# 审计追踪

## 描述
审计追踪是一个用于查看**可提交类型的文档（submittable doctype）**在多个修订版本中所做更改的工具。

当一个可提交的文档被取消并修订后，由于文档名称会改变，仅通过"版本（Version）"文档类型来跟踪其变更会变得困难。审计追踪可用于查看某个可提交文档**最多5个之前的修订版本**。

## 使用步骤

### 1. 选择单据类型
在"Doctype"字段中选择文档类型。

### 2. 选择文档
在"Document"字段中选择具体的文档名称。

### 3. 设置日期范围（可选）
可以指定开始和结束日期，以筛选在该时间范围内修订的文档。

### 4. 点击比较
点击"Compare"按钮，即可查看所选文档的审计追踪报告。

## 报告内容分类
审计追踪报告会清晰展示以下类型的变更：

### 1. 字段更改 (Fields Changed)
- 显示各个版本之间修改过的字段及其值
- 展示字段从旧值到新值的变化过程

### 2. 行更新 (Rows Updated)
- 显示子表格（child table）中已更新行的字段值变化
- 展示表格数据的详细变更历史

### 3. 行添加/行删除 (Rows Added / Rows Removed)
- 显示每个子表格在不同版本中增加或删除的行记录
- 提供完整的数据变更审计轨迹

## 适用场景

### 业务场景
- **采购订单变更追踪**：追踪采购订单在不同修订版本中的价格、数量等变更
- **销售合同版本管理**：管理销售合同的多次修订和变更历史
- **项目需求变更审计**：记录项目需求的变更过程和各个版本差异

### 合规需求
- **财务审计**：满足财务合规性要求的变更追踪
- **法律合规**：确保合同变更符合法律要求
- **质量管理**：跟踪产品规格变更的完整历史

## 技术特点

### 版本限制
- 最多对比**5个历史修订版本**
- 确保审计记录的可管理性和性能

### 适用对象
- 主要针对具有"可提交"（Submit）工作流状态的单据类型
- 支持复杂业务场景的版本管理需求

### 集成特性
- 与Frappe的工作流系统紧密集成
- 提供标准化的审计追踪界面

## 最佳实践

### 配置建议
- 为关键业务单据启用审计追踪功能
- 设置合理的修订策略和审核流程

### 使用技巧
- 结合日期范围筛选提高审计效率
- 重点关注关键字段的变更历史
- 建立标准化的审计报告格式

## 与版本功能的区别

### 版本功能
- 适用于非提交类型文档的版本追踪
- 文档名称保持不变
- 侧重于内容的迭代更新

### 审计追踪
- 专门针对提交后修订的文档
- 文档名称会因修订而改变
- 侧重于业务流程的合规性审计

## 总结
审计追踪是Frappe框架中重要的合规性工具，为业务关键文档提供了完整的变更历史记录。通过清晰的版本对比和变更分析，帮助企业满足审计要求，确保业务流程的透明度和可追溯性。

---
*原文链接：https://docs.frappe.io/framework/user/en/audit-trail*