# 讨论 (Discussions)

Frappe框架提供了讨论功能，允许用户在应用程序中进行实时讨论和协作。

## 功能特性

- **实时讨论**: 支持用户之间的实时消息交流
- **主题管理**: 可以创建和管理不同的讨论主题
- **权限控制**: 细粒度的权限管理，控制谁可以参与讨论
- **文件共享**: 支持在讨论中分享文件和附件
- **通知系统**: 及时通知用户新的讨论消息

## 基本用法

### 创建讨论

```python
# 创建新的讨论主题
discussion = frappe.get_doc({
    "doctype": "Discussion",
    "title": "项目讨论",
    "reference_doctype": "Project",
    "reference_name": "PROJ-001"
})
discussion.insert()
```

### 添加讨论回复

```python
# 在讨论中添加回复
reply = frappe.get_doc({
    "doctype": "Discussion Reply",
    "discussion": discussion.name,
    "content": "这是一个回复内容",
    "by": "user@example.com"
})
reply.insert()
```

## 配置选项

### 讨论设置

在系统设置中可以配置讨论相关的参数：

- **启用讨论**: 控制是否在特定DocType上启用讨论功能
- **自动订阅**: 设置用户是否自动订阅相关讨论
- **邮件通知**: 配置讨论更新的邮件通知设置

## 最佳实践

1. **合理使用讨论**: 为重要的业务对象启用讨论功能
2. **权限管理**: 确保只有授权用户可以访问敏感讨论
3. **定期清理**: 定期清理过时的讨论内容
4. **性能优化**: 对于高频讨论，考虑使用缓存机制

## 相关API

- `frappe.discussions.get_discussions()` - 获取讨论列表
- `frappe.discussions.create_discussion()` - 创建新讨论
- `frappe.discussions.add_reply()` - 添加讨论回复

讨论功能为Frappe应用程序提供了强大的协作能力，是团队协作的重要工具。