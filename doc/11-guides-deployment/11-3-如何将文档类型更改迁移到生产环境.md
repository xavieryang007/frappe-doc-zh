# 11.3 如何将文档类型更改迁移到生产环境 (How To Migrate Doctype Changes To Production)

## 文档类型（DocType）/ 数据库模式（Schema）更改

- 如果您在**开发者模式（`developer_mode`）** 下进行更改，每个DocType的`.json`文件会自动更新。
- 当您在生产环境中使用`--latest`或`bench update`命令更新时，这些更改会自动同步到站点的数据库模式中。

## 权限（Permissions）

- **权限不会自动更新**，因为用户可能已手动修改过权限。
- 要更新权限，您可以在应用的`patches.txt`文件中添加一个新的迁移脚本（patch），并执行以下命令：

```python
execute:frappe.permissions.reset_perms("[doctype]")
```

（请将`[doctype]`替换为具体的文档类型名称。）

## 关键要点总结

- **模式更改**：在生产环境运行`bench update`即可自动应用。
- **权限更改**：需通过**手动添加迁移脚本**来重置权限，避免覆盖用户自定义设置。