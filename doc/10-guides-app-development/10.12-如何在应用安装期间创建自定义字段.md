# 10.12 如何在应用安装期间创建自定义字段

## 主要内容概述

本文介绍了如何在 Frappe 框架中，通过自定义应用在安装时自动向现有 DocType 添加自定义字段的方法。

## 详细步骤

### 1. 创建自定义字段

- 在 Frappe 网页应用中，手动为所需的 DocType 添加新的自定义字段。
- 这些字段可以是您的应用需要但属于其他应用或核心 DocType 的字段。

### 2. 配置 hooks.py 文件

- 在您的自定义应用的 `hooks.py` 文件中，将 `"Custom Field"` 添加到 `fixtures` 列表中。

```python
fixtures = ["Custom Field"]
```

### 3. 导出 Fixtures

- 在开发站点上使用以下命令导出 fixtures：

```bash
bench --site mysite export-fixtures
```

- 此命令会在您的应用目录下创建一个名为 `fixtures` 的文件夹。
- 导出的自定义字段定义将保存为 `.csv` 或 `.json` 文件。

### 4. 应用安装与更新

- 当您的应用在新站点安装或通过 `bench update` 更新时，`fixtures` 文件夹中的自定义字段文件会被自动导入。
- 这确保了自定义字段能随应用一起部署。

## 注意事项

- 此方法不仅适用于自定义字段，还可用于其他单例 DocType（如 "Website Settings"），只需将其添加到 `fixtures` 列表即可。

## 核心要点

- **自动化部署**：通过 fixtures 机制实现自定义字段的自动创建。
- **配置简单**：仅需修改 `hooks.py` 并导出 fixtures。
- **维护方便**：字段定义与应用代码一同管理，便于版本控制。

通过以上步骤，您可以确保自定义应用在安装过程中自动创建所需的字段结构。

---

原始链接: https://docs.frappe.io/framework/user/en/guides/app-development/how-to-create-custom-fields-during-app-installation