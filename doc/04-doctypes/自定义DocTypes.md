# 自定义DocTypes (Customizing DocTypes)

## 概述

在Frappe框架中，当您需要在多个站点（租户）中使用同一应用程序时，每个站点可能需要对DocType进行特定的自定义。例如，对于"客户"DocType，不同用户可能需要添加自定义字段或其他特定配置。

## 自定义DocTypes的六种主要方法

### 1. 自定义字段（Custom Field）

- **功能**：用于跟踪站点特定的字段
- **用途**：在不修改原始DocType结构的情况下添加新字段

### 2. 属性设置器（Property Setter）

- **功能**：跟踪在DocType及其子项中被重写的特定属性
- **特点**：可以覆盖DocType的各种属性设置

### 3. 自定义表单（Customize Form）

- **功能**：通过可视化界面轻松自定义DocTypes
- **优势**：用户友好的界面，无需直接修改代码

### 4. 客户端脚本（Client Script）

- **功能**：添加额外的客户端事件处理程序
- **应用**：前端交互逻辑的自定义

### 5. 服务器脚本（Server Script）

- **功能**：添加额外的服务器端业务逻辑
- **应用**：后端业务规则的自定义

### 6. 自定义权限（Custom DocPerm）

- **功能**：通过角色权限管理器添加额外权限
- **管理**：在权限管理界面进行配置

## 自定义表单（Customize Form）详解

### 主要特点

- **无缝集成**：更改DocType属性时不会影响底层DocType结构
- **自动应用**：自定义配置在获取元数据时自动应用
- **版本支持**：从版本13开始支持添加/编辑链接和操作

### 自定义链接和操作

- **新增功能**：可以通过自定义表单添加和编辑链接和操作
- **存储方式**：这些更改保存在相同的DocType中，但带有自定义属性标记
- **自动应用**：通过`frappe.get_meta`获取元数据时自动应用配置

## 使用建议

1. **多租户场景**：特别适合为不同客户提供定制化解决方案
2. **非侵入式修改**：所有自定义都不会影响核心应用程序代码
3. **维护性**：自定义配置易于管理和维护

## 总结

Frappe框架提供了完善的自定义DocTypes机制，使开发者能够灵活地为不同站点定制功能，同时保持代码的整洁和可维护性。自定义表单作为主要的可视化工具，大大简化了自定义过程。

如果您需要了解某个具体方法的详细操作步骤，我可以进一步为您详细说明。