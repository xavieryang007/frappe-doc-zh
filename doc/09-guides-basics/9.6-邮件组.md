# 9.6 邮件组 (Email Groups)

## 概述

邮件组是Frappe框架中用于管理和自动发送邮件给订阅者、客户或联系人组的工具。以下内容涵盖邮件组的创建、成员管理、发送邮件及配置设置。

## 邮件组的创建

### 创建位置
- 在"Email"模块下创建邮件组

### 命名规则
- 邮件组的名称基于"Title"字段自动生成，便于识别和管理

### 权限控制
- 默认由"Newsletter Manager"角色管理，确保只有授权人员可创建或修改邮件组

### 关键字段
- **Title**：邮件组的显示名称
- **Total Subscribers**：动态显示当前订阅者数量
- **Confirmation Email Template**：设置确认邮件的模板（用于订阅确认）
- **Welcome Email Template**：设置欢迎邮件模板（在确认后发送）
- **Welcome URL**：订阅确认后跳转的页面（可自定义，如落地页）

## 成员管理

### 成员记录
- 每个邮件组关联到"Email Group Member"记录，用于管理单个订阅者

### 订阅流程
1. 用户提交订阅请求
2. 系统发送确认邮件（使用Confirmation Email Template）
3. 用户确认后，正式成为成员，并计入Total Subscribers
4. 可选发送欢迎邮件（Welcome Email Template）

### 个性化设置
- 可在Welcome URL中添加查询参数，用于跟踪订阅者来源或个性化内容

## 发送邮件

### 邮件模板
- 支持使用Jinja模板引擎定制邮件内容

### 触发条件
- 邮件可基于订阅确认、欢迎流程或手动批量发送

### 权限要求
- 仅具备"Newsletter Manager"权限的用户可发起邮件发送

## 配置设置

### 确认邮件模板
- 用于订阅确认的邮件内容模板

### 欢迎邮件模板
- 用于新订阅者的首次沟通

### Welcome URL
- 自定义确认后跳转链接，提升用户参与度

### 参数跟踪
- 通过URL参数（如`?source=web`）跟踪订阅效果

## 注意事项

- 该文档位于Frappe框架的"Guides - Basics"部分，路径为：`Guides - Basics → Email Groups`
- 页面提示当前有未审核的更改（pending changes），内容可能随版本更新
- 若需更详细的操作步骤（如代码示例或API调用），建议查阅Frappe官方文档的REST API或Python API部分