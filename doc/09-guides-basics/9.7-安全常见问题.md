# 9.7 安全常见问题 (Security FAQs)

## Frappe安全常见问题解答

### 1. 关于上传恶意文件（如.exe）

**问题**：Frappe是否允许上传恶意文件？

**解答**：Frappe本身不是杀毒软件，不会扫描上传的文件内容。但系统内置了文件扩展名验证机制。

**防护措施**：管理员可在"系统设置">"文件">"允许的文件扩展名"中自定义允许上传的文件类型，以阻止危险扩展名。

### 2. 错误跟踪信息显示

**问题**：Frappe是否会显示完整的错误跟踪（Traceback）？

**解答**：默认显示完整错误信息以帮助开发调试，但这些信息通常不会泄露敏感数据（框架代码已开源）。

**最佳实践**：若需禁用，可在"系统设置"中取消勾选"显示完整错误并允许向开发者报告问题"。

### 3. 密码传输加密

**问题**：密码在请求中是否加密？

**解答**：Frappe依赖HTTPS（TLS）对传输层进行加密，无需在应用层重复加密。

**防护措施**：
- 必须在生产环境中配置HTTPS
- 密码存储使用PBKDF2 + SHA256哈希，不可逆；API密钥等敏感字段使用Fernet对称加密

### 4. 密码字段的自动填充（Autocomplete）

**问题**：为何启用密码自动填充？

**解答**：自动填充和密码管理器被广泛认为是提升安全性和用户体验的最佳实践。

**参考**：现代浏览器已普遍支持此功能，禁用已不再被推荐。

### 5. 密码过期策略

**问题**：是否支持强制定期（如30/90天）更换密码？

**解答**：密码定期更换并非必要，甚至可能带来负面效果（如用户选择弱密码）。

**防护措施**：如需启用，可在"系统设置">"强制用户重置密码"中配置。

### 6. 密码复杂度要求

**问题**：能否配置密码必须包含大写、小写和特殊字符？

**解答**：硬性复杂度要求可能降低用户体验。Frappe通过熵值计算密码强度。

**最佳实践**：系统默认要求一定强度的密码，管理员可在"系统设置">"密码">"最小密码评分"中调整强度阈值。

### 7. Cookie路径设置

**问题**：Cookie路径设置为"/"是否会导致同源其他应用访问？

**解答**：Frappe不支持在同一域下的不同路径部署多个应用，因此该设置不会造成风险。

**防护措施**：所有页面均由Frappe同一应用服务，Cookie隔离有效。

### 8. Cookie的Secure标志

**问题**：是否自动为Cookie添加Secure标志？

**解答**：仅在HTTPS访问时自动添加Secure标志。

**最佳实践**：建议启用HSTS（HTTP严格传输安全）以强制使用HTTPS，防止未加密流量。非HTTPS连接仅适用于内网等无需TLS的场景。

### 9. 框架标识泄露

**问题**：站点是否会泄露其基于Frappe框架？

**解答**：即使隐藏UI标识，仍可通过预加载头、资源路径等特征轻易识别应用类型。

**结论**：完全隐藏框架信息不现实，无需过度关注此类表面信息。

## 总结：安全最佳实践

- **部署配置**：务必在生产环境启用HTTPS和HSTS
- **文件上传**：通过"系统设置"限制允许的文件扩展名
- **错误处理**：根据环境选择是否显示详细错误
- **密码策略**：依赖强度评分而非硬性规则，可选强制重置
- **Cookie安全**：依赖HTTPS自动保护，无需手动干预