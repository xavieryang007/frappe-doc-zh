# 32.1 测试

## Frappe框架测试文档

### 概述
Frappe框架提供了完整的测试解决方案，包括UI测试和单元测试，确保代码质量和功能稳定性。

### 测试类型

#### 1. UI测试 (UI Testing)
Frappe使用**Cypress**进行UI测试，这是一个基于Node.js的全栈测试框架，不依赖Selenium。

**主要特性：**
- 快速的测试执行
- 直观的测试编写方式
- 实时重载功能
- 内置调试工具

#### 2. 单元测试 (Unit Testing)
针对具体功能模块的独立测试，确保每个组件按预期工作。

### 测试文件结构

UI测试文件应放在应用的 `cypress/integration` 目录下，以 `.js` 格式编写。

### 运行测试

#### 本地运行命令：
```bash
bench --site [站点名] run-ui-tests [应用名]
```

#### 无头模式运行：
```bash
bench --site [站点名] run-ui-tests [应用名] --headless
```

#### 并行测试：
```bash
bench --site [站点名] run-ui-tests [应用名] --parallel
```

### 测试最佳实践

1. **测试隔离**：确保每个测试都是独立的，不依赖其他测试的结果
2. **数据清理**：测试完成后清理测试数据
3. **错误处理**：测试应包括异常情况的处理
4. **断言清晰**：测试断言应明确表达预期行为

### 相关资源

- [Cypress官方文档](https://docs.cypress.io)
- [Frappe测试指南](https://docs.frappe.io/framework/user/en/guides/automated-testing)

---

*最后更新时间：2025-11-15*  
*来源：https://docs.frappe.io/framework/user/en/testing*