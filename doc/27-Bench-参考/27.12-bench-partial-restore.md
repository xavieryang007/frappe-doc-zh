# 27.12 bench partial-restore

## **用法**
```bash
bench partial-restore [选项] SQL文件路径
```

## **描述**
您可能希望仅将已备份的特定表恢复到某个站点。您很可能使用了 `bench backup` 命令的 `--only` 或 `--exclude` 选项进行了部分备份。

`partial-restore` 命令可用于使用部分备份文件来恢复站点。部分备份文件可以是 gzip 压缩的 SQL 文件或纯文本 SQL 文件。本质上，您可以使用此命令从任何 SQL 文件进行恢复。

## **参数**
- **SQL文件路径**: 数据库源文件的路径。路径可以是相对于 bench 目录根目录或 sites 文件夹的相对路径，也可以是绝对路径。

## **标志**
- `-v`, `--verbose`: 增加详细输出信息。

## **示例**

1. **在站点上使用部分备份进行恢复**：
   ```bash
   bench --site {站点名} partial-restore -v {/SQL文件/的/路径}
   ```

## **核心要点总结**

- **主要用途**：用于将**部分备份**（即只包含特定表或排除了某些表的备份）恢复到 Frappe/ERPNext 站点。
- **备份来源**：这个部分备份通常是通过 `bench backup --only`（仅备份指定表）或 `bench backup --exclude`（备份时排除指定表）命令创建的。
- **文件格式**：支持压缩格式（`.gz`）和纯文本格式（`.sql`）的 SQL 文件。
- **灵活性**：其核心优势在于灵活性，允许您从**任何有效的 SQL 文件**（不一定是通过 `bench backup` 创建的）将数据导入到站点中。

## **使用场景**
- 从生产环境的备份中恢复少数重要的核心数据表到测试环境。
- 修复因误操作而损坏的单个或多个表的数据。
- 将其他系统导出的 SQL 数据文件导入到 Frappe 站点中。

**相关链接**: https://docs.frappe.io/framework/user/en/bench/reference/partial-restore