# 文档状态

在Frappe框架中，每个文档都有一个状态字段，称为`docstatus`。它表示文档在其生命周期中所处的阶段，主要有三种状态：

## 状态类型

### 0 - 草稿 (Draft)
文档已被创建但尚未提交。处于此状态的文档可以进行任意修改。

### 1 - 已提交 (Submitted)
文档已被正式提交或确认。提交后的文档通常会被锁定，无法直接编辑（除非取消提交）。

### 2 - 已取消 (Cancelled)
文档已被取消或作废。这通常是对已提交文档的一个操作结果。

## 状态说明

| 状态值 | 中文名称 | 英文名称 | 说明 |
|--------|----------|----------|------|
| 0 | 草稿 | Draft | 临时保存，可修改 |
| 1 | 已提交 | Submitted | 正式生效，通常不可修改 |
| 2 | 已取消 | Cancelled | 已作废 |

## 状态转换

文档状态的典型转换流程：
1. **创建** → 草稿 (0)
2. **提交** → 已提交 (1)
3. **取消** → 已取消 (2)

## 编程中的使用

在Python代码中，可以通过以下方式访问和设置文档状态：

```python
# 检查文档状态
if doc.docstatus == 0:
    print("这是草稿文档")
elif doc.docstatus == 1:
    print("文档已提交")
elif doc.docstatus == 2:
    print("文档已取消")

# 设置文档状态
doc.docstatus = 1  # 提交文档
doc.save()
```

## 前端显示

在用户界面中，文档状态通常会以不同的颜色或图标显示：
- 草稿：通常显示为灰色或普通状态
- 已提交：通常显示为绿色或蓝色
- 已取消：通常显示为红色或删除线

## 权限控制

文档状态也影响用户的操作权限：
- 草稿文档可以编辑和删除
- 已提交文档通常只能查看，不能编辑
- 已取消文档通常只能查看

## 注意事项

- 状态转换是不可逆的，已提交的文档不能直接回到草稿状态
- 某些操作可能只允许在特定状态下执行
- 状态变更会触发相关的服务器脚本和权限检查